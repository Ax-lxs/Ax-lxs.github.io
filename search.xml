<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>js获取随机数</title>
    <url>/2022/03/06/js%E8%8E%B7%E5%8F%96%E9%9A%8F%E6%9C%BA%E6%95%B0/</url>
    <content><![CDATA[<h2 id="js获取随机数"><a href="#js获取随机数" class="headerlink" title="js获取随机数"></a>js获取随机数</h2><p>js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"> <span class="keyword">function</span> <span class="title function_">getRandomInt</span>(<span class="params">min,max</span>)&#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*(max-min+<span class="number">1</span>))+min;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getRandomInt</span>(<span class="number">1</span>,<span class="number">5</span>));</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>前端</category>
      </categories>
      <tags>
        <tag>js获取随机数</tag>
      </tags>
  </entry>
  <entry>
    <title>js音频</title>
    <url>/2022/03/13/js%E9%9F%B3%E9%A2%91/</url>
    <content><![CDATA[<h1 id="js音频"><a href="#js音频" class="headerlink" title="js音频"></a>js音频</h1><p>html</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;gbk&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">audio</span>&#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: none;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;aid&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;playMusic(0)&quot;</span>&gt;</span>播放<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;playMusic(1)&quot;</span>&gt;</span>播放1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">audio</span> <span class="attr">class</span>=<span class="string">&quot;player&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./map2_fail.mp3&quot;</span> <span class="attr">controls</span>=<span class="string">&quot;controls&quot;</span> <span class="attr">autoplay</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">audio</span> <span class="attr">class</span>=<span class="string">&quot;player&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./menu_lobby.mp3&quot;</span> <span class="attr">controls</span>=<span class="string">&quot;controls&quot;</span> <span class="attr">autoplay</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;//ossweb-img.qq.com/images/js/jquery/jquery-1.11.3.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">     <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;aid&quot;</span>).<span class="title function_">click</span>();</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">playMusic</span>(<span class="params">a</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> player = $(<span class="string">&quot;.player&quot;</span>)[a]; <span class="comment">/*jquery对象转换成js对象*/</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (player.<span class="property">paused</span>)&#123; <span class="comment">/*如果已经暂停*/</span></span></span><br><span class="line"><span class="language-javascript">            player.<span class="title function_">play</span>(); <span class="comment">/*播放*/</span></span></span><br><span class="line"><span class="language-javascript">        &#125;<span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            player.<span class="title function_">pause</span>();<span class="comment">/*暂停*/</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>动态创建法</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> musicData = [&#123; <span class="attr">name</span>: <span class="string">&quot;audioElement&quot;</span>, <span class="attr">url</span>: <span class="string">&quot;menu_lobby&quot;</span> &#125;];</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">openMusic</span>(<span class="params">a</span>) &#123;</span><br><span class="line">    a.<span class="property">name</span> = <span class="keyword">new</span> <span class="title class_">Audio</span>(<span class="string">&quot;./&quot;</span> + a.<span class="property">url</span> + <span class="string">&quot;.mp3&quot;</span>);</span><br><span class="line">    a.<span class="property">name</span>.<span class="title function_">play</span>(); <span class="comment">//播放 mp3这个音频对象</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">closureMusic</span>(<span class="params">a</span>) &#123;</span><br><span class="line">    a.<span class="property">name</span>.<span class="title function_">pause</span>();</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>前端</category>
      </categories>
      <tags>
        <tag>js音频</tag>
      </tags>
  </entry>
  <entry>
    <title>页面图片加载数量</title>
    <url>/2022/03/06/%E9%A1%B5%E9%9D%A2%E5%9B%BE%E7%89%87%E5%8A%A0%E8%BD%BD%E6%95%B0%E9%87%8F/</url>
    <content><![CDATA[<h1 id="页面图片加载数量"><a href="#页面图片加载数量" class="headerlink" title="页面图片加载数量"></a>页面图片加载数量</h1><p>html</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;percent&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>%</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">     <span class="keyword">function</span> <span class="title function_">perFun</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">var</span> imgs = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;img&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">var</span> len = <span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">var</span> percent = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;percent&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;imgs.<span class="property">length</span>; i++)&#123;</span></span><br><span class="line"><span class="language-javascript">        (<span class="keyword">function</span>(<span class="params">i</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">          imgs[i].<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            len ++;</span></span><br><span class="line"><span class="language-javascript">            percent.<span class="property">innerText</span> = <span class="title class_">Math</span>.<span class="title function_">round</span>(len*<span class="number">100</span>/imgs.<span class="property">length</span>);</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)(i);</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">   &#125;</span></span><br><span class="line"><span class="language-javascript">   <span class="title function_">perFun</span>();</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>前端</category>
      </categories>
      <tags>
        <tag>页面图片加载数量</tag>
      </tags>
  </entry>
  <entry>
    <title>页面动画</title>
    <url>/2022/03/13/%E9%A1%B5%E9%9D%A2%E5%8A%A8%E7%94%BB/</url>
    <content><![CDATA[<h1 id="页面动画"><a href="#页面动画" class="headerlink" title="页面动画"></a>页面动画</h1><p>html</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        *&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>:<span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>:<span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.test</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>:<span class="number">900px</span> auto <span class="number">500px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>:<span class="number">800px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>:<span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#00ac61</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.animate-box</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">left</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>:<span class="number">400px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>:<span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">opacity</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: palevioletred;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;//ossweb-img.qq.com/images/js/jquery/jquery-1.11.3.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;animate-box&quot;</span>&gt;</span></span><br><span class="line">           滑出的元素</span><br><span class="line">       <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">       $(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">           $(<span class="variable language_">window</span>).<span class="title function_">scroll</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">slideIn</span>($(<span class="string">&quot;.animate-box&quot;</span>),<span class="number">150</span>);</span></span><br><span class="line"><span class="language-javascript">           &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">function</span> <span class="title function_">slideIn</span>(<span class="params">obj,left</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="keyword">var</span> targetHeight = obj.<span class="title function_">offset</span>().<span class="property">top</span>;   <span class="comment">//目标元素到顶部的距离</span></span></span><br><span class="line"><span class="language-javascript">              <span class="keyword">var</span> scrollTop = $(<span class="variable language_">window</span>).<span class="title function_">scrollTop</span>(); <span class="comment">//页面滚动的距离</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">              <span class="keyword">if</span>(scrollTop&gt;targetHeight-<span class="number">400</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                   obj.<span class="title function_">animate</span>(&#123;<span class="attr">left</span>:left+<span class="string">&#x27;px&#x27;</span>,<span class="attr">top</span>:<span class="string">&#x27;150px&#x27;</span>,<span class="attr">opacity</span>:<span class="number">1</span>&#125;,<span class="number">1000</span>);</span></span><br><span class="line"><span class="language-javascript">              &#125;</span></span><br><span class="line"><span class="language-javascript">           &#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">       &#125;);</span></span><br><span class="line"><span class="language-javascript">   </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>前端</category>
      </categories>
      <tags>
        <tag>页面动画</tag>
      </tags>
  </entry>
  <entry>
    <title>页面效果</title>
    <url>/2022/03/13/%E9%A1%B5%E9%9D%A2%E6%95%88%E6%9E%9C/</url>
    <content><![CDATA[<h1 id="页面效果"><a href="#页面效果" class="headerlink" title="页面效果"></a>页面效果</h1><p>html</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    * &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">html</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">font-size</span>: <span class="built_in">calc</span>(<span class="number">100vw</span> / <span class="number">7.5</span>);</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">html</span>,</span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.swiper</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.page1</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">overflow-y</span>: auto;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.page2</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.page1_content</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">20rem</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">img</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>: <span class="number">1rem</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">1rem</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">animation</span>: identifier <span class="number">2s</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">animation-fill-mode</span>: forwards;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="keyword">@keyframes</span> identifier &#123;</span></span><br><span class="line"><span class="language-css">      <span class="selector-tag">from</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">opacity</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">left</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-tag">to</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">opacity</span>: <span class="number">1</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">top</span>: <span class="number">0.5rem</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">left</span>: <span class="number">0.5rem</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-wrapper&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-slide swiper-no-swiping page1&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;page1_content&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;slide-fwd-center&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./banner.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;bg&quot;</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-slide page2&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;slide-fwd-center&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./banner.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;bg&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-slide page3&quot;</span>&gt;</span>Slide 3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-slide page4&quot;</span>&gt;</span>Slide 4<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-slide page5&quot;</span>&gt;</span>Slide 5<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;//ossweb-img.qq.com/images/js/swiper4_component/js/swiper.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;//ossweb-img.qq.com/images/js/jquery/jquery-1.11.3.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">var</span> mySwiper = <span class="keyword">new</span> <span class="title class_">Swiper</span>(<span class="string">&quot;.swiper&quot;</span>, &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">direction</span>: <span class="string">&quot;vertical&quot;</span>, <span class="comment">//横竖</span></span></span><br><span class="line"><span class="language-javascript">    <span class="attr">initialSlide</span>: <span class="number">0</span>, <span class="comment">//页面索引</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//   effect: &#x27;fade&#x27;, //切换效果</span></span></span><br><span class="line"><span class="language-javascript">    <span class="attr">on</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">//页面变换事件</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">slideChangeTransitionEnd</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">activeIndex</span>);</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">let</span> musicData = [&#123; <span class="attr">name</span>: <span class="string">&quot;audioElement&quot;</span>, <span class="attr">url</span>: <span class="string">&quot;menu_lobby&quot;</span> &#125;];</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">function</span> <span class="title function_">openMusic</span>(<span class="params">a</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    a.<span class="property">name</span> = <span class="keyword">new</span> <span class="title class_">Audio</span>(<span class="string">&quot;./&quot;</span> + a.<span class="property">url</span> + <span class="string">&quot;.mp3&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">    a.<span class="property">name</span>.<span class="title function_">play</span>(); <span class="comment">//播放 mp3这个音频对象</span></span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">function</span> <span class="title function_">closureMusic</span>(<span class="params">a</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    a.<span class="property">name</span>.<span class="title function_">pause</span>();</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 切换页面</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">function</span> <span class="title function_">togglepage</span>(<span class="params">index</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    mySwiper.<span class="title function_">slideTo</span>(index, <span class="number">1000</span>, <span class="literal">true</span>); <span class="comment">//切换到第一个slide，速度为1秒</span></span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">//监听滚动条</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">let</span> scroH = <span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">let</span> viewH = <span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">let</span> contentH = <span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">  $(<span class="string">&quot;.page1&quot;</span>).<span class="title function_">scroll</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    scroH = $(<span class="string">&quot;.page1&quot;</span>).<span class="title function_">scrollTop</span>(); <span class="comment">//滚动高度</span></span></span><br><span class="line"><span class="language-javascript">    viewH = $(<span class="string">&quot;.page1_content&quot;</span>).<span class="title function_">height</span>(); <span class="comment">//可见高度</span></span></span><br><span class="line"><span class="language-javascript">    contentH = $(<span class="string">&quot;.page1&quot;</span>).<span class="title function_">height</span>(); <span class="comment">//内容高度</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//  console.log(scroH);</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//  console.log(&#x27;滚动条高度&#x27;,viewH);</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//  console.log(&#x27;内容高度&#x27;,contentH);</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span> (scroH == viewH - contentH) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;到底了&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// togglepage(1);</span></span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">openMusic</span>(musicData[<span class="number">0</span>]);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">slide</span>();</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">//手指滑动方向</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">function</span> <span class="title function_">slide</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;body&quot;</span>); <span class="comment">// 监听对象</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> startTime = <span class="string">&quot;&quot;</span>; <span class="comment">// 触摸开始时间</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> startDistanceX = <span class="string">&quot;&quot;</span>; <span class="comment">// 触摸开始X轴位置</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> startDistanceY = <span class="string">&quot;&quot;</span>; <span class="comment">// 触摸开始Y轴位置</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> endTime = <span class="string">&quot;&quot;</span>; <span class="comment">// 触摸结束时间</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> endDistanceX = <span class="string">&quot;&quot;</span>; <span class="comment">// 触摸结束X轴位置</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> endDistanceY = <span class="string">&quot;&quot;</span>; <span class="comment">// 触摸结束Y轴位置</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> moveTime = <span class="string">&quot;&quot;</span>; <span class="comment">// 触摸时间</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> moveDistanceX = <span class="string">&quot;&quot;</span>; <span class="comment">// 触摸移动X轴距离</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> moveDistanceY = <span class="string">&quot;&quot;</span>; <span class="comment">// 触摸移动Y轴距离</span></span></span><br><span class="line"><span class="language-javascript">    box.<span class="title function_">addEventListener</span>(<span class="string">&quot;touchstart&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      startTime = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>();</span></span><br><span class="line"><span class="language-javascript">      startDistanceX = e.<span class="property">touches</span>[<span class="number">0</span>].<span class="property">screenX</span>;</span></span><br><span class="line"><span class="language-javascript">      startDistanceY = e.<span class="property">touches</span>[<span class="number">0</span>].<span class="property">screenY</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript">    box.<span class="title function_">addEventListener</span>(<span class="string">&quot;touchend&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      endTime = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>();</span></span><br><span class="line"><span class="language-javascript">      endDistanceX = e.<span class="property">changedTouches</span>[<span class="number">0</span>].<span class="property">screenX</span>;</span></span><br><span class="line"><span class="language-javascript">      endDistanceY = e.<span class="property">changedTouches</span>[<span class="number">0</span>].<span class="property">screenY</span>;</span></span><br><span class="line"><span class="language-javascript">      moveTime = endTime - startTime;</span></span><br><span class="line"><span class="language-javascript">      moveDistanceX = startDistanceX - endDistanceX;</span></span><br><span class="line"><span class="language-javascript">      moveDistanceY = startDistanceY - endDistanceY;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// console.log(moveDistanceX, moveDistanceY)</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 判断滑动距离超过40 且 时间小于500毫秒</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">if</span> (</span></span><br><span class="line"><span class="language-javascript">        (<span class="title class_">Math</span>.<span class="title function_">abs</span>(moveDistanceX) &gt; <span class="number">40</span> || <span class="title class_">Math</span>.<span class="title function_">abs</span>(moveDistanceY) &gt; <span class="number">40</span>) &amp;&amp;</span></span><br><span class="line"><span class="language-javascript">        moveTime &lt; <span class="number">500</span></span></span><br><span class="line"><span class="language-javascript">      ) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 判断X轴移动的距离是否大于Y轴移动的距离</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (<span class="title class_">Math</span>.<span class="title function_">abs</span>(moveDistanceX) &gt; <span class="title class_">Math</span>.<span class="title function_">abs</span>(moveDistanceY)) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 左右</span></span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// console.log(moveDistanceX &gt; 0 ? &#x27;左&#x27; : &#x27;右&#x27;)</span></span></span><br><span class="line"><span class="language-javascript">        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 上下</span></span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// console.log(moveDistanceY &gt; 0 ? &#x27;上&#x27; : &#x27;下&#x27;)</span></span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">if</span> (moveDistanceY &gt; <span class="number">0</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;上滑了&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (scroH == viewH - contentH) &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="comment">// console.log(&#x27;到底了&#x27;);</span></span></span><br><span class="line"><span class="language-javascript">              <span class="title function_">togglepage</span>(<span class="number">1</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">          &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;下滑了&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>前端</category>
      </categories>
      <tags>
        <tag>页面效果</tag>
      </tags>
  </entry>
</search>
